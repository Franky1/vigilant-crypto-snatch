<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="685px" preserveAspectRatio="none" style="width:1279px;height:685px;background:#FFFFFF;" version="1.1" viewBox="0 0 1279 685" width="1279px" zoomAndPan="magnify"><defs><filter height="300%" id="f11y5o5hc91gmr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d4330e39c0bf177a52e24a65d7200b78]
cluster marketplace--><polygon fill="#FFFFFF" filter="url(#f11y5o5hc91gmr)" points="16,6,119,6,126,28.2969,1039,28.2969,1039,678,16,678,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="126" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="20" y="20.9951">marketplace</text><!--MD5=[01435ace8273dc3cae88e7f376e4d373]
cluster core--><polygon fill="#FFFFFF" filter="url(#f11y5o5hc91gmr)" points="1063,25,1105,25,1112,47.2969,1262,47.2969,1262,124,1063,124,1063,25" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1063" x2="1112" y1="47.2969" y2="47.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="36" x="1067" y="39.9951">core</text><!--MD5=[8d2250d5978d7765d849b4a769fe2966]
entity marketplace.bitstamp--><rect fill="#87CEFA" filter="url(#f11y5o5hc91gmr)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="100" x="48" y="494"/><rect fill="#87CEFA" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="128" y="499"/><rect fill="#87CEFA" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="126" y="501"/><rect fill="#87CEFA" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="126" y="505"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="63" y="526.9951">bitstamp</text><!--MD5=[e029f97e7c5a1b24c1525c3235371274]
entity marketplace.krakenex--><rect fill="#87CEFA" filter="url(#f11y5o5hc91gmr)" height="46.2969" style="stroke:#A80036;stroke-width:1.5;" width="103" x="306.5" y="615"/><rect fill="#87CEFA" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="389.5" y="620"/><rect fill="#87CEFA" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="387.5" y="622"/><rect fill="#87CEFA" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="387.5" y="626"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="321.5" y="647.9951">krakenex</text><!--MD5=[065dc3da9c284527079846358774397a]
class marketplace.Marketplace--><rect codeLine="8" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="124.8281" id="marketplace.Marketplace" style="stroke:#A80036;stroke-width:1.5;" width="129" x="472.5" y="187"/><ellipse cx="498.3" cy="203" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M494.2219,198.7656 L494.2219,196.6094 L501.6125,196.6094 L501.6125,198.7656 L499.1438,198.7656 L499.1438,206.8438 L501.6125,206.8438 L501.6125,209 L494.2219,209 L494.2219,206.8438 L496.6906,206.8438 L496.6906,198.7656 L494.2219,198.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="73" x="514.7" y="207.1543">Marketplace</text><line style="stroke:#A80036;stroke-width:1.5;" x1="473.5" x2="600.5" y1="219" y2="219"/><line style="stroke:#A80036;stroke-width:1.5;" x1="473.5" x2="600.5" y1="227" y2="227"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="478.5" y="241.2104">place_order()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="478.5" y="254.0151">get_spot_price()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="64" x="478.5" y="266.8198">get_name()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76" x="478.5" y="279.6245">get_balance()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="478.5" y="292.4292">get_withdrawal_fee()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69" x="478.5" y="305.2339">withdrawal()</text><!--MD5=[199cd3c9d807d6620e9aef6cc3f8d725]
class marketplace.BuyError--><rect codeLine="17" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.BuyError" style="stroke:#A80036;stroke-width:1.5;" width="85" x="636.5" y="225.5"/><ellipse cx="651.5" cy="241.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M654.4688,247.1406 Q653.8906,247.4375 653.25,247.5781 Q652.6094,247.7344 651.9063,247.7344 Q649.4063,247.7344 648.0781,246.0938 Q646.7656,244.4375 646.7656,241.3125 Q646.7656,238.1875 648.0781,236.5313 Q649.4063,234.875 651.9063,234.875 Q652.6094,234.875 653.25,235.0313 Q653.9063,235.1875 654.4688,235.4844 L654.4688,238.2031 Q653.8438,237.625 653.25,237.3594 Q652.6563,237.0781 652.0313,237.0781 Q650.6875,237.0781 650,238.1563 Q649.3125,239.2188 649.3125,241.3125 Q649.3125,243.4063 650,244.4844 Q650.6875,245.5469 652.0313,245.5469 Q652.6563,245.5469 653.25,245.2813 Q653.8438,245 654.4688,244.4219 L654.4688,247.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="53" x="665.5" y="245.6543">BuyError</text><line style="stroke:#A80036;stroke-width:1.5;" x1="637.5" x2="720.5" y1="257.5" y2="257.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="637.5" x2="720.5" y1="265.5" y2="265.5"/><!--MD5=[25de93a26e9e16587deb34fd1b15d83f]
class marketplace.TickerError--><rect codeLine="18" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.TickerError" style="stroke:#A80036;stroke-width:1.5;" width="100" x="923" y="225.5"/><ellipse cx="938" cy="241.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M940.9688,247.1406 Q940.3906,247.4375 939.75,247.5781 Q939.1094,247.7344 938.4063,247.7344 Q935.9063,247.7344 934.5781,246.0938 Q933.2656,244.4375 933.2656,241.3125 Q933.2656,238.1875 934.5781,236.5313 Q935.9063,234.875 938.4063,234.875 Q939.1094,234.875 939.75,235.0313 Q940.4063,235.1875 940.9688,235.4844 L940.9688,238.2031 Q940.3438,237.625 939.75,237.3594 Q939.1563,237.0781 938.5313,237.0781 Q937.1875,237.0781 936.5,238.1563 Q935.8125,239.2188 935.8125,241.3125 Q935.8125,243.4063 936.5,244.4844 Q937.1875,245.5469 938.5313,245.5469 Q939.1563,245.5469 939.75,245.2813 Q940.3438,245 940.9688,244.4219 L940.9688,247.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="952" y="245.6543">TickerError</text><line style="stroke:#A80036;stroke-width:1.5;" x1="924" x2="1022" y1="257.5" y2="257.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="924" x2="1022" y1="265.5" y2="265.5"/><!--MD5=[caa764b748c71bd2aebdb44f99d97334]
class marketplace.WithdrawalError--><rect codeLine="19" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.WithdrawalError" style="stroke:#A80036;stroke-width:1.5;" width="131" x="756.5" y="225.5"/><ellipse cx="771.5" cy="241.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M774.4688,247.1406 Q773.8906,247.4375 773.25,247.5781 Q772.6094,247.7344 771.9063,247.7344 Q769.4063,247.7344 768.0781,246.0938 Q766.7656,244.4375 766.7656,241.3125 Q766.7656,238.1875 768.0781,236.5313 Q769.4063,234.875 771.9063,234.875 Q772.6094,234.875 773.25,235.0313 Q773.9063,235.1875 774.4688,235.4844 L774.4688,238.2031 Q773.8438,237.625 773.25,237.3594 Q772.6563,237.0781 772.0313,237.0781 Q770.6875,237.0781 770,238.1563 Q769.3125,239.2188 769.3125,241.3125 Q769.3125,243.4063 770,244.4844 Q770.6875,245.5469 772.0313,245.5469 Q772.6563,245.5469 773.25,245.2813 Q773.8438,245 774.4688,244.4219 L774.4688,247.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="99" x="785.5" y="245.6543">WithdrawalError</text><line style="stroke:#A80036;stroke-width:1.5;" x1="757.5" x2="886.5" y1="257.5" y2="257.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="757.5" x2="886.5" y1="265.5" y2="265.5"/><!--MD5=[bd7d051b103e388a1381b53afd16d66f]
class marketplace.KrakenexMarketplace--><rect codeLine="28" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.KrakenexMarketplace" style="stroke:#A80036;stroke-width:1.5;" width="166" x="290" y="372"/><ellipse cx="305" cy="388" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M307.9688,393.6406 Q307.3906,393.9375 306.75,394.0781 Q306.1094,394.2344 305.4063,394.2344 Q302.9063,394.2344 301.5781,392.5938 Q300.2656,390.9375 300.2656,387.8125 Q300.2656,384.6875 301.5781,383.0313 Q302.9063,381.375 305.4063,381.375 Q306.1094,381.375 306.75,381.5313 Q307.4063,381.6875 307.9688,381.9844 L307.9688,384.7031 Q307.3438,384.125 306.75,383.8594 Q306.1563,383.5781 305.5313,383.5781 Q304.1875,383.5781 303.5,384.6563 Q302.8125,385.7188 302.8125,387.8125 Q302.8125,389.9063 303.5,390.9844 Q304.1875,392.0469 305.5313,392.0469 Q306.1563,392.0469 306.75,391.7813 Q307.3438,391.5 307.9688,390.9219 L307.9688,393.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="134" x="319" y="392.1543">KrakenexMarketplace</text><line style="stroke:#A80036;stroke-width:1.5;" x1="291" x2="455" y1="404" y2="404"/><line style="stroke:#A80036;stroke-width:1.5;" x1="291" x2="455" y1="412" y2="412"/><!--MD5=[a4c22b1b65e2bad8535776e0d53d0f4c]
class marketplace.BitstampMarketplace--><rect codeLine="30" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.BitstampMarketplace" style="stroke:#A80036;stroke-width:1.5;" width="164" x="91" y="372"/><ellipse cx="106" cy="388" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M108.9688,393.6406 Q108.3906,393.9375 107.75,394.0781 Q107.1094,394.2344 106.4063,394.2344 Q103.9063,394.2344 102.5781,392.5938 Q101.2656,390.9375 101.2656,387.8125 Q101.2656,384.6875 102.5781,383.0313 Q103.9063,381.375 106.4063,381.375 Q107.1094,381.375 107.75,381.5313 Q108.4063,381.6875 108.9688,381.9844 L108.9688,384.7031 Q108.3438,384.125 107.75,383.8594 Q107.1563,383.5781 106.5313,383.5781 Q105.1875,383.5781 104.5,384.6563 Q103.8125,385.7188 103.8125,387.8125 Q103.8125,389.9063 104.5,390.9844 Q105.1875,392.0469 106.5313,392.0469 Q107.1563,392.0469 107.75,391.7813 Q108.3438,391.5 108.9688,390.9219 L108.9688,393.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="120" y="392.1543">BitstampMarketplace</text><line style="stroke:#A80036;stroke-width:1.5;" x1="92" x2="254" y1="404" y2="404"/><line style="stroke:#A80036;stroke-width:1.5;" x1="92" x2="254" y1="412" y2="412"/><!--MD5=[4374a931540083ec2bffb50c86aac2bd]
class marketplace.marketplace--><rect codeLine="33" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="60.8047" id="marketplace.marketplace" style="stroke:#A80036;stroke-width:1.5;" width="127" x="191.5" y="487"/><ellipse cx="214.15" cy="503" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M217.1188,508.6406 Q216.5406,508.9375 215.9,509.0781 Q215.2594,509.2344 214.5563,509.2344 Q212.0563,509.2344 210.7281,507.5938 Q209.4156,505.9375 209.4156,502.8125 Q209.4156,499.6875 210.7281,498.0313 Q212.0563,496.375 214.5563,496.375 Q215.2594,496.375 215.9,496.5313 Q216.5563,496.6875 217.1188,496.9844 L217.1188,499.7031 Q216.4938,499.125 215.9,498.8594 Q215.3063,498.5781 214.6813,498.5781 Q213.3375,498.5781 212.65,499.6563 Q211.9625,500.7188 211.9625,502.8125 Q211.9625,504.9063 212.65,505.9844 Q213.3375,507.0469 214.6813,507.0469 Q215.3063,507.0469 215.9,506.7813 Q216.4938,506.5 217.1188,505.9219 L217.1188,508.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="78" x="229.85" y="507.1543">marketplace</text><line style="stroke:#A80036;stroke-width:1.5;" x1="192.5" x2="317.5" y1="519" y2="519"/><line style="stroke:#A80036;stroke-width:1.5;" x1="192.5" x2="317.5" y1="527" y2="527"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="115" x="197.5" y="541.2104">make_marketplace()</text><!--MD5=[d72f061d25776f345107f5f14e16daad]
class marketplace.KrakenWithdrawalConfig--><rect codeLine="40" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="86.4141" id="marketplace.KrakenWithdrawalConfig" style="stroke:#A80036;stroke-width:1.5;" width="182" x="224" y="41"/><ellipse cx="239" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M241.9688,62.6406 Q241.3906,62.9375 240.75,63.0781 Q240.1094,63.2344 239.4063,63.2344 Q236.9063,63.2344 235.5781,61.5938 Q234.2656,59.9375 234.2656,56.8125 Q234.2656,53.6875 235.5781,52.0313 Q236.9063,50.375 239.4063,50.375 Q240.1094,50.375 240.75,50.5313 Q241.4063,50.6875 241.9688,50.9844 L241.9688,53.7031 Q241.3438,53.125 240.75,52.8594 Q240.1563,52.5781 239.5313,52.5781 Q238.1875,52.5781 237.5,53.6563 Q236.8125,54.7188 236.8125,56.8125 Q236.8125,58.9063 237.5,59.9844 Q238.1875,61.0469 239.5313,61.0469 Q240.1563,61.0469 240.75,60.7813 Q241.3438,60.5 241.9688,59.9219 L241.9688,62.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="150" x="253" y="61.1543">KrakenWithdrawalConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="225" x2="405" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="46" x="230" y="87.2104">coin: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="230" y="100.0151">target: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="129" x="230" y="112.8198">fee_limit_percent: float</text><line style="stroke:#A80036;stroke-width:1.5;" x1="225" x2="405" y1="119.4141" y2="119.4141"/><!--MD5=[55e3c555290b2fa93f52c97a7bd60afe]
class marketplace.KrakenConfig--><rect codeLine="46" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="99.2188" id="marketplace.KrakenConfig" style="stroke:#A80036;stroke-width:1.5;" width="244" x="193" y="200"/><ellipse cx="269.75" cy="216" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M272.7188,221.6406 Q272.1406,221.9375 271.5,222.0781 Q270.8594,222.2344 270.1563,222.2344 Q267.6563,222.2344 266.3281,220.5938 Q265.0156,218.9375 265.0156,215.8125 Q265.0156,212.6875 266.3281,211.0313 Q267.6563,209.375 270.1563,209.375 Q270.8594,209.375 271.5,209.5313 Q272.1563,209.6875 272.7188,209.9844 L272.7188,212.7031 Q272.0938,212.125 271.5,211.8594 Q270.9063,211.5781 270.2813,211.5781 Q268.9375,211.5781 268.25,212.6563 Q267.5625,213.7188 267.5625,215.8125 Q267.5625,217.9063 268.25,218.9844 Q268.9375,220.0469 270.2813,220.0469 Q270.9063,220.0469 271.5,219.7813 Q272.0938,219.5 272.7188,218.9219 L272.7188,221.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="290.25" y="220.1543">KrakenConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="194" x2="436" y1="232" y2="232"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="199" y="246.2104">key: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="199" y="259.0151">secret: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="199" y="271.8198">prefer_fee_in_base_currency: bool</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="232" x="199" y="284.6245">withdrawal: List[KrakenWithdrawalConfig]</text><line style="stroke:#A80036;stroke-width:1.5;" x1="194" x2="436" y1="291.2188" y2="291.2188"/><!--MD5=[f2a71b1514ceb11800bf72c27588d821]
class marketplace.BitstampConfig--><rect codeLine="57" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="86.4141" id="marketplace.BitstampConfig" style="stroke:#A80036;stroke-width:1.5;" width="126" x="32" y="206.5"/><ellipse cx="47" cy="222.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M49.9688,228.1406 Q49.3906,228.4375 48.75,228.5781 Q48.1094,228.7344 47.4063,228.7344 Q44.9063,228.7344 43.5781,227.0938 Q42.2656,225.4375 42.2656,222.3125 Q42.2656,219.1875 43.5781,217.5313 Q44.9063,215.875 47.4063,215.875 Q48.1094,215.875 48.75,216.0313 Q49.4063,216.1875 49.9688,216.4844 L49.9688,219.2031 Q49.3438,218.625 48.75,218.3594 Q48.1563,218.0781 47.5313,218.0781 Q46.1875,218.0781 45.5,219.1563 Q44.8125,220.2188 44.8125,222.3125 Q44.8125,224.4063 45.5,225.4844 Q46.1875,226.5469 47.5313,226.5469 Q48.1563,226.5469 48.75,226.2813 Q49.3438,226 49.9688,225.4219 L49.9688,228.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="94" x="61" y="226.6543">BitstampConfig</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="157" y1="238.5" y2="238.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="38" y="252.7104">username: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="38" y="265.5151">key: str</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="38" y="278.3198">secret: str</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="157" y1="284.9141" y2="284.9141"/><!--MD5=[052755bf182cf9cef74d97e35b3aab4b]
class marketplace.KrakenexInterface--><rect codeLine="65" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="73.6094" id="marketplace.KrakenexInterface" style="stroke:#A80036;stroke-width:1.5;" width="140" x="362" y="480"/><ellipse cx="377" cy="496" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M372.9219,491.7656 L372.9219,489.6094 L380.3125,489.6094 L380.3125,491.7656 L377.8438,491.7656 L377.8438,499.8438 L380.3125,499.8438 L380.3125,502 L372.9219,502 L372.9219,499.8438 L375.3906,499.8438 L375.3906,491.7656 L372.9219,491.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="108" x="391" y="500.1543">KrakenexInterface</text><line style="stroke:#A80036;stroke-width:1.5;" x1="363" x2="501" y1="512" y2="512"/><line style="stroke:#A80036;stroke-width:1.5;" x1="363" x2="501" y1="520" y2="520"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="368" y="534.2104">query_public()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="368" y="547.0151">query_private()</text><!--MD5=[9beeb5a86038ed6cf6e0122b700528e1]
class marketplace.KrakenexMock--><rect codeLine="70" fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="marketplace.KrakenexMock" style="stroke:#A80036;stroke-width:1.5;" width="121" x="444.5" y="614"/><ellipse cx="459.5" cy="630" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M462.4688,635.6406 Q461.8906,635.9375 461.25,636.0781 Q460.6094,636.2344 459.9063,636.2344 Q457.4063,636.2344 456.0781,634.5938 Q454.7656,632.9375 454.7656,629.8125 Q454.7656,626.6875 456.0781,625.0313 Q457.4063,623.375 459.9063,623.375 Q460.6094,623.375 461.25,623.5313 Q461.9063,623.6875 462.4688,623.9844 L462.4688,626.7031 Q461.8438,626.125 461.25,625.8594 Q460.6563,625.5781 460.0313,625.5781 Q458.6875,625.5781 458,626.6563 Q457.3125,627.7188 457.3125,629.8125 Q457.3125,631.9063 458,632.9844 Q458.6875,634.0469 460.0313,634.0469 Q460.6563,634.0469 461.25,633.7813 Q461.8438,633.5 462.4688,632.9219 L462.4688,635.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89" x="473.5" y="634.1543">KrakenexMock</text><line style="stroke:#A80036;stroke-width:1.5;" x1="445.5" x2="564.5" y1="646" y2="646"/><line style="stroke:#A80036;stroke-width:1.5;" x1="445.5" x2="564.5" y1="654" y2="654"/><!--MD5=[929807f1eccb93c38cdadbb33fa14cf8]
class core.Price--><rect fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="core.Price" style="stroke:#A80036;stroke-width:1.5;" width="63" x="1182.5" y="60"/><ellipse cx="1197.5" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1200.4688,81.6406 Q1199.8906,81.9375 1199.25,82.0781 Q1198.6094,82.2344 1197.9063,82.2344 Q1195.4063,82.2344 1194.0781,80.5938 Q1192.7656,78.9375 1192.7656,75.8125 Q1192.7656,72.6875 1194.0781,71.0313 Q1195.4063,69.375 1197.9063,69.375 Q1198.6094,69.375 1199.25,69.5313 Q1199.9063,69.6875 1200.4688,69.9844 L1200.4688,72.7031 Q1199.8438,72.125 1199.25,71.8594 Q1198.6563,71.5781 1198.0313,71.5781 Q1196.6875,71.5781 1196,72.6563 Q1195.3125,73.7188 1195.3125,75.8125 Q1195.3125,77.9063 1196,78.9844 Q1196.6875,80.0469 1198.0313,80.0469 Q1198.6563,80.0469 1199.25,79.7813 Q1199.8438,79.5 1200.4688,78.9219 L1200.4688,81.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="31" x="1211.5" y="80.1543">Price</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1183.5" x2="1244.5" y1="92" y2="92"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1183.5" x2="1244.5" y1="100" y2="100"/><!--MD5=[a671954594137fb4e68cdef5fd3fc06a]
class core.Trade--><rect fill="#FEFECE" filter="url(#f11y5o5hc91gmr)" height="48" id="core.Trade" style="stroke:#A80036;stroke-width:1.5;" width="68" x="1079" y="60"/><ellipse cx="1094" cy="76" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1096.9688,81.6406 Q1096.3906,81.9375 1095.75,82.0781 Q1095.1094,82.2344 1094.4063,82.2344 Q1091.9063,82.2344 1090.5781,80.5938 Q1089.2656,78.9375 1089.2656,75.8125 Q1089.2656,72.6875 1090.5781,71.0313 Q1091.9063,69.375 1094.4063,69.375 Q1095.1094,69.375 1095.75,69.5313 Q1096.4063,69.6875 1096.9688,69.9844 L1096.9688,72.7031 Q1096.3438,72.125 1095.75,71.8594 Q1095.1563,71.5781 1094.5313,71.5781 Q1093.1875,71.5781 1092.5,72.6563 Q1091.8125,73.7188 1091.8125,75.8125 Q1091.8125,77.9063 1092.5,78.9844 Q1093.1875,80.0469 1094.5313,80.0469 Q1095.1563,80.0469 1095.75,79.7813 Q1096.3438,79.5 1096.9688,78.9219 L1096.9688,81.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="1108" y="80.1543">Trade</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1080" x2="1146" y1="92" y2="92"/><line style="stroke:#A80036;stroke-width:1.5;" x1="1080" x2="1146" y1="100" y2="100"/><!--MD5=[39eb44b8dc8eda4d061b473dc8230ca2]
link marketplace.Marketplace to marketplace.BuyError--><path codeLine="21" d="M601.62,249.5 C611.49,249.5 621.35,249.5 631.22,249.5 " fill="none" id="marketplace.Marketplace-to-marketplace.BuyError" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="636.38,249.5,627.38,245.5,631.38,249.5,627.38,253.5,636.38,249.5" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0123c0751c8d410e382c105b4ebdd6c5]
link marketplace.Marketplace to marketplace.TickerError--><path codeLine="22" d="M592.25,186.88 C605.52,175.69 620.52,165.65 636.5,159.5 C688.55,139.45 836.25,137.5 887.5,159.5 C916.46,171.93 940.24,199.53 955.3,220.91 " fill="none" id="marketplace.Marketplace-to-marketplace.TickerError" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="958.2,225.1,956.3746,215.4218,955.3577,220.9865,949.793,219.9695,958.2,225.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[04d120d1ff46afcf9e754a43f2e897e9]
link marketplace.Marketplace to marketplace.WithdrawalError--><path codeLine="23" d="M592.25,186.88 C605.52,175.69 620.52,165.65 636.5,159.5 C671.75,145.92 686.21,146.01 721.5,159.5 C753.83,171.86 782.33,199.95 800.65,221.48 " fill="none" id="marketplace.Marketplace-to-marketplace.WithdrawalError" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="803.95,225.42,801.2647,215.9443,800.7505,221.5777,795.117,221.0635,803.95,225.42" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c8bd6954c9b4994be2f723fd476d9780]
reverse link core.Price to marketplace.Marketplace--><path codeLine="25" d="M1192.18,111.93 C1184.44,119.7 1175.12,127.33 1165,132 C943.56,234.22 846.22,98.36 619,187 C613.2,189.26 607.45,192.06 601.85,195.2 " fill="none" id="core.Price-backto-marketplace.Marketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1195.85,108.12,1186.7234,111.8221,1192.3793,111.7192,1192.4822,117.3751,1195.85,108.12" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[612195e60ed080452455a21f931599c5]
reverse link core.Trade to marketplace.Marketplace--><path codeLine="26" d="M1078.91,111.02 C1066.89,118.99 1052.89,126.96 1039,132 C862.03,196.21 793.35,115.97 619,187 C613.23,189.35 607.51,192.21 601.92,195.39 " fill="none" id="core.Trade-backto-marketplace.Marketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1083.25,108.1,1073.5535,109.8256,1079.1074,110.8998,1078.0332,116.4537,1083.25,108.1" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a3610a2fb4a7d24d8af0be29d96803e7]
reverse link marketplace.Marketplace to marketplace.KrakenexMarketplace--><path d="M457.1,320.9 C436.23,339.29 415.18,357.83 399.36,371.77 " fill="none" id="marketplace.Marketplace-backto-marketplace.KrakenexMarketplace" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="452.55,315.58,472.18,307.61,461.8,326.08,452.55,315.58" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[362b870ce5e56106e164b236f9f5dee7]
reverse link marketplace.Marketplace to marketplace.BitstampMarketplace--><path d="M453.9,311.08 C399.88,335.17 317.74,357.95 255.24,374.27 " fill="none" id="marketplace.Marketplace-backto-marketplace.BitstampMarketplace" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="451.04,304.68,472.1,302.33,457.1,317.3,451.04,304.68" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9b6c234d7c8f28219b116de038ee7748]
link marketplace.BitstampMarketplace to marketplace.bitstamp--><path codeLine="31" d="M158.36,420.23 C145.86,440.06 127.89,468.57 114.81,489.33 " fill="none" id="marketplace.BitstampMarketplace-to-marketplace.bitstamp" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="112.09,493.64,120.2786,488.1676,114.7605,489.4129,113.5152,483.8948,112.09,493.64" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ab123c1bf1645f100a90d383225ab3c5]
reverse link marketplace.KrakenexMarketplace to marketplace.marketplace--><path codeLine="37" d="M363.15,424.94 C348.66,465.79 322.97,537 320,537 " fill="none" id="marketplace.KrakenexMarketplace-backto-marketplace.marketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="364.86,420.12,358.0825,427.266,363.1892,424.8326,365.6226,429.9393,364.86,420.12" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d19235762dd150e69ea13cd20ad05207]
reverse link marketplace.BitstampMarketplace to marketplace.marketplace--><path codeLine="38" d="M171.05,425.44 C169.01,466.37 168.72,537 191,537 " fill="none" id="marketplace.BitstampMarketplace-backto-marketplace.marketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="171.33,420.12,166.8717,428.902,171.0725,425.1134,174.8611,429.3141,171.33,420.12" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[aa61e8b7675147ee0fa07b35aa46c50c]
link marketplace.KrakenWithdrawalConfig to marketplace.KrakenConfig--><path codeLine="53" d="M315,127.11 C315,145.26 315,166.85 315,186.76 " fill="none" id="marketplace.KrakenWithdrawalConfig-to-marketplace.KrakenConfig" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="315,199.88,319,193.88,315,187.88,311,193.88,315,199.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[081d7dfe8e843f013b002b9ab4127c49]
reverse link marketplace.KrakenConfig to marketplace.KrakenexMarketplace--><path codeLine="55" d="M336.34,303.68 C345.77,327.17 356.37,353.56 363.73,371.91 " fill="none" id="marketplace.KrakenConfig-backto-marketplace.KrakenexMarketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="334.47,299.02,334.0986,308.8619,336.327,303.6624,341.5264,305.8907,334.47,299.02" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f5e662f6756cd8c5baa0c726aba32ce1]
reverse link marketplace.BitstampConfig to marketplace.BitstampMarketplace--><path codeLine="63" d="M120.25,297.28 C133.72,322.23 149.69,351.82 160.5,371.85 " fill="none" id="marketplace.BitstampConfig-backto-marketplace.BitstampMarketplace" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="117.77,292.68,118.5435,302.4984,120.1533,297.0755,125.5762,298.6852,117.77,292.68" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6a364f74871a7aedc7814788775cb315]
reverse link marketplace.KrakenexInterface to marketplace.KrakenexMock--><path d="M464.59,571.13 C473.78,586.11 483.31,601.64 490.8,613.85 " fill="none" id="marketplace.KrakenexInterface-backto-marketplace.KrakenexMock" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="458.59,574.74,454.1,554.03,470.53,567.41,458.59,574.74" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d66edb931d79369f3533e6cb9160c99a]
link marketplace.KrakenexMarketplace to marketplace.KrakenexInterface--><path codeLine="72" d="M384.52,420.23 C392.24,435.82 402.64,456.78 411.73,475.11 " fill="none" id="marketplace.KrakenexMarketplace-to-marketplace.KrakenexInterface" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="414.01,479.71,413.6131,469.8691,411.7968,475.2265,406.4395,473.4103,414.01,479.71" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a8b8ed2cf1b9f149630707b22420d8bc]
reverse link marketplace.KrakenexInterface to marketplace.krakenex--><path codeLine="74" d="M398.73,571.5 C389.21,586.81 379.36,602.65 371.73,614.92 " fill="none" id="marketplace.KrakenexInterface-backto-marketplace.krakenex" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="393.09,567.31,409.6,554.03,404.98,574.71,393.09,567.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[69eb596e572e52024c4e20dd0b05fdb4]
@startuml

allowmixing

namespace marketplace {
    component bitstamp #lightskyblue
    component krakenex #lightskyblue

interface Marketplace {
    place_order()
    get_spot_price()
    get_name()
    get_balance()
    get_withdrawal_fee()
    withdrawal()
}

class BuyError
class TickerError
class WithdrawalError

Marketplace -> BuyError
Marketplace -> TickerError
Marketplace -> WithdrawalError

core.Price <- - Marketplace
core.Trade <- - Marketplace

class KrakenexMarketplace implements Marketplace

class BitstampMarketplace implements Marketplace
BitstampMarketplace - -> bitstamp

class marketplace {
{static} make_marketplace()
}

KrakenexMarketplace <- - marketplace::make_marketplace
BitstampMarketplace <- - marketplace::make_marketplace

class KrakenWithdrawalConfig {
    coin: str
    target: str
    fee_limit_percent: float
}

class KrakenConfig {
    key: str
    secret: str
    prefer_fee_in_base_currency: bool
    withdrawal: List[KrakenWithdrawalConfig]
}

KrakenWithdrawalConfig - -* KrakenConfig

KrakenConfig <- - KrakenexMarketplace

class BitstampConfig {
    username: str
    key: str
    secret: str
}

BitstampConfig <- - BitstampMarketplace

interface KrakenexInterface {
    query_public()
    query_private()
}

class KrakenexMock implements KrakenexInterface

KrakenexMarketplace - -> KrakenexInterface

KrakenexInterface <|.. krakenex

}

@enduml

PlantUML version 1.2021.14(Fri Nov 12 17:46:50 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: de
Country: DE
--></g></svg>