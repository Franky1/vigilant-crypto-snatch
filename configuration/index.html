
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://martin-ueding.github.io/vigilant-crypto-snatch/configuration/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Configuration - Vigilant Crypto Snatch</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Vigilant Crypto Snatch" class="md-header__button md-logo" aria-label="Vigilant Crypto Snatch" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vigilant Crypto Snatch
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Vigilant Crypto Snatch" class="md-nav__button md-logo" aria-label="Vigilant Crypto Snatch" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Vigilant Crypto Snatch
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#historic-price-api" class="md-nav__link">
    Historic price API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marketplaces" class="md-nav__link">
    Marketplaces
  </a>
  
    <nav class="md-nav" aria-label="Marketplaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kraken" class="md-nav__link">
    Kraken
  </a>
  
    <nav class="md-nav" aria-label="Kraken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fee-policy" class="md-nav__link">
    Fee policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-transfer-to-wallet" class="md-nav__link">
    Automatic transfer to wallet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitstamp" class="md-nav__link">
    Bitstamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polling-interval" class="md-nav__link">
    Polling interval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    Triggers
  </a>
  
    <nav class="md-nav" aria-label="Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trigger-strategy" class="md-nav__link">
    Trigger strategy
  </a>
  
    <nav class="md-nav" aria-label="Trigger strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-strategy" class="md-nav__link">
    Drop strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fear-greed-strategy" class="md-nav__link">
    Fear &amp; Greed strategy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiat-volume-strategy" class="md-nav__link">
    Fiat volume strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosing-sensible-values" class="md-nav__link">
    Choosing sensible values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-notifications" class="md-nav__link">
    Telegram notifications
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        Usage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../deployment/" class="md-nav__link">
        Deployment
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../support/" class="md-nav__link">
        Support
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Changelog
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Changelog" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Changelog
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/version-2/" class="md-nav__link">
        Version 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/version-3/" class="md-nav__link">
        Version 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/version-4/" class="md-nav__link">
        Version 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/version-5/" class="md-nav__link">
        Version 5
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../developing/" class="md-nav__link">
        Developing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dev/components/" class="md-nav__link">
        Components
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../donation/" class="md-nav__link">
        Donation
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#historic-price-api" class="md-nav__link">
    Historic price API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marketplaces" class="md-nav__link">
    Marketplaces
  </a>
  
    <nav class="md-nav" aria-label="Marketplaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kraken" class="md-nav__link">
    Kraken
  </a>
  
    <nav class="md-nav" aria-label="Kraken">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fee-policy" class="md-nav__link">
    Fee policy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-transfer-to-wallet" class="md-nav__link">
    Automatic transfer to wallet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitstamp" class="md-nav__link">
    Bitstamp
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#polling-interval" class="md-nav__link">
    Polling interval
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    Triggers
  </a>
  
    <nav class="md-nav" aria-label="Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trigger-strategy" class="md-nav__link">
    Trigger strategy
  </a>
  
    <nav class="md-nav" aria-label="Trigger strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-strategy" class="md-nav__link">
    Drop strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fear-greed-strategy" class="md-nav__link">
    Fear &amp; Greed strategy
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fiat-volume-strategy" class="md-nav__link">
    Fiat volume strategy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosing-sensible-values" class="md-nav__link">
    Choosing sensible values
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-notifications" class="md-nav__link">
    Telegram notifications
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="configuration">Configuration</h1>
<p>Unfortunately we need to configure a few things before you can start automatic trading with this software. Most configuration is done in a <a href="https://yaml.org/">YAML</a> file. It is a syntax for hierarchical data and relies on indentation to show the hierarchy.</p>
<p>The configuration file needs to be created with a (programmer's) text editor. We will talk you through the necessary steps and show snippets to put into. Depending on your platform, the path should be this:</p>
<table>
<thead>
<tr>
<th>Platform</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Linux</td>
<td><code>~/.config/vigilant-crypto-snatch/config.yml</code></td>
</tr>
<tr>
<td>Windows</td>
<td><code>C:\Users\&lt;User&gt;\Application Data\Martin Ueding\vigilant-crypto-snatch\config.yml</code></td>
</tr>
<tr>
<td>macOS</td>
<td><code>~/Library/Application Support/vigilant-crypto-snatch/config.yml</code></td>
</tr>
</tbody>
</table>
<h2 id="historic-price-api">Historic price API</h2>
<p>In order to find a drop in the price, we need to know the historic price at a given point. We use Crypto Compare for that as they provide a free API. Go to <a href="https://min-api.cryptocompare.com/pricing">their website</a> and create an API key.</p>
<blockquote>
<p><img alt="" src="../screenshot-cryptocompare-plans.png" /></p>
</blockquote>
<p>And retrieve your API key:</p>
<blockquote>
<p><img alt="" src="../screenshot-cryptocompare-api-key.png" /></p>
</blockquote>
<p>In the configuration file then add the following:</p>
<div class="highlight"><pre><span></span><code><span class="nt">cryptocompare</span><span class="p">:</span>
  <span class="nt">api_key</span><span class="p">:</span> <span class="s">&quot;your</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">key</span><span class="nv"> </span><span class="s">here&quot;</span>
</code></pre></div>
<h2 id="marketplaces">Marketplaces</h2>
<p>We currently support two marketplaces, <a href="https://bitstamp.net/">Bitstamp</a> and <a href="https://kraken.com">Kraken</a>. You only have to configure one of them, but you can also configure both. When you start the program, you can just choose which marketplace you want to use today.</p>
<h3 id="kraken">Kraken</h3>
<p>Go to the <a href="https://www.kraken.com/u/security/api">Kraken API key page</a> and create an API key which has the permission to trade.</p>
<p>There you need to create a new API key:</p>
<p><img alt="" src="../kraken-api-keys.png" /></p>
<p>Be sure to select the <em>Create &amp; Modify Orders</em> permission such that the program can actually execute orders. Give the least amount of permissions, you should not select <em>Withdraw Funds</em> if you don't want to enable the automatic withdrawal feature described below.</p>
<p><img alt="" src="../kraken-api-settings.png" /></p>
<p>You will get an API key and an associated secret. In the configuration file you add a paragraph like the following. The first will be API key and the second will be the secret, like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">kraken</span><span class="p">:</span>
  <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;YOUR</span><span class="nv"> </span><span class="s">KEY&quot;</span>
  <span class="nt">secret</span><span class="p">:</span> <span class="s">&quot;YOUR</span><span class="nv"> </span><span class="s">SECRET&quot;</span>
</code></pre></div>
<h4 id="fee-policy">Fee policy</h4>
<p>When you trade, you will have to pay a certain fee that depends on your Kraken account tier. Whatever these are exactly, you can choose whether you would like to have them taken away from your fiat or coin amount. If you let it take away from your coin amount, buying coin for 50 EUR will only cost exactly that, but you get a bit less coin. Should you rather choose to have it taken in fiat, you will get as much coin as you want, but it will cost you more fiat.</p>
<p>Kraken supports this as a <a href="https://docs.kraken.com/rest/#operation/addOrder">flag to <code>addOrder</code></a> and has two options:</p>
<blockquote>
<ul>
<li><code>fcib</code> prefer fee in base currency (default if selling)</li>
<li><code>fciq</code> prefer fee in quote currency (default if buying, mutually exclusive with <code>fcib</code>)</li>
</ul>
</blockquote>
<p>As explained <a href="https://support.kraken.com/hc/en-us/articles/115000364388-Trading-glossary">in their glossary</a>, the quote currency is fiat, whereas the base currency is the coin.</p>
<p>We support this choice via the option <code>prefer_fee_in_base_currency</code>, which is false by default, so the fee is preferred in quote currency. If you set this to true, you can instead have it in the base currency and only spend exactly as much as you want. For this add this line:</p>
<div class="highlight"><pre><span></span><code><span class="nt">kraken</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">…</span>
  <span class="l l-Scalar l-Scalar-Plain">prefer_fee_in_base_currency</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<h4 id="automatic-transfer-to-wallet">Automatic transfer to wallet</h4>
<p>For this marketplace we support automatic transfers to an external wallet when the crypto volume is large enough. We query the current fees and only do the transfer when the fees are below a certain percentage of the value to transfer.</p>
<p>In order to set this up, you first need to have a withdrawal target. Go to the <a href="https://www.kraken.com/u/funding">funding page</a>, click on <a href="https://www.kraken.com/u/funding/withdraw?asset=BTC">withdraw BTC</a> for example. Then use “Add Address” to create a new address and give it some name. I call mine simply “Wallet”. Then for each currency that you want to set up withdrawal for, add a matching group in the <code>kraken</code> section like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">kraken</span><span class="p">:</span>
  <span class="l l-Scalar l-Scalar-Plain">…</span>
  <span class="l l-Scalar l-Scalar-Plain">withdrawal</span><span class="p p-Indicator">:</span>
    <span class="nt">BTC</span><span class="p">:</span>
      <span class="nt">target</span><span class="p">:</span> <span class="s">&quot;Wallet&quot;</span>
      <span class="nt">fee_limit_percent</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1.0</span>
</code></pre></div>
<p>The API key that you use must have the <em>Withdraw Funds</em> permission.</p>
<p>After each trade the program will check whether you are above the fee limit and start the transfer. This way you can have your marketplace account as empty as you like.</p>
<h3 id="bitstamp">Bitstamp</h3>
<p>In order to use Bitstamp, you need to set up an API key with them that has the correct permissions to trade with. Go to the <em>settings</em> menu and create a new key.</p>
<blockquote>
<p><img alt="" src="../screenshot-bitstamp-api-key.png" /></p>
</blockquote>
<p>Put this API key into the configuration file.</p>
<div class="highlight"><pre><span></span><code><span class="nt">bitstamp</span><span class="p">:</span>
  <span class="nt">username</span><span class="p">:</span> <span class="s">&quot;username</span><span class="nv"> </span><span class="s">here&quot;</span>
  <span class="nt">key</span><span class="p">:</span> <span class="s">&quot;key</span><span class="nv"> </span><span class="s">here&quot;</span>
  <span class="nt">secret</span><span class="p">:</span> <span class="s">&quot;secret</span><span class="nv"> </span><span class="s">here&quot;</span>
</code></pre></div>
<h2 id="polling-interval">Polling interval</h2>
<p>First you should set the polling interval that the main loop should use. It will wait this many seconds before checking again. For testing we found that 5 seconds is a good value, for production use 60 seconds should be absolutely sufficient.</p>
<div class="highlight"><pre><span></span><code><span class="nt">sleep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
</code></pre></div>
<h2 id="triggers">Triggers</h2>
<p>You can define as many triggers as you would like. This is done in a section <code>triggers</code>. Let us show an example first and explain all the keys below.</p>
<div class="highlight"><pre><span></span><code><span class="nt">triggers</span><span class="p">:</span>
<span class="p p-Indicator">-</span> <span class="nt">coin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">btc</span>
  <span class="nt">fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eur</span>
  <span class="nt">cooldown_minutes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1440</span>
  <span class="nt">volume_fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">26.0</span>
  <span class="nt">delay_minutes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1440</span>
  <span class="nt">drop_percentage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="s">&quot;Medium</span><span class="nv"> </span><span class="s">drops&quot;</span>
  <span class="nt">coin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">btc</span>
  <span class="nt">fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eur</span>
  <span class="nt">cooldown_minutes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1440</span>
  <span class="nt">volume_fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">26.0</span>
  <span class="nt">delay_minutes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1440</span>
  <span class="nt">drop_percentage</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="p p-Indicator">-</span> <span class="nt">coin</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">btc</span>
  <span class="nt">fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">eur</span>
  <span class="nt">cooldown_minutes</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">5000</span>
  <span class="nt">volume_fiat</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">26.0</span>
</code></pre></div>
<p>There are different sub-types, but all of them have the following elements in common:</p>
<ul>
<li><code>coin</code>: The name of the crypto-currency, case insensitive.</li>
<li><code>fiat</code>: The name of the fiat currency, case insensitive.</li>
<li><code>cooldown_minutes</code>, <code>cooldown_hours</code>, <code>cooldown_days</code>: Time until a trigger can fire again. If multiple ones are given, only the one with the largest unit will be used.</li>
<li>
<p><code>name</code>: Optional human-readable name of the trigger.</p>
<p>The internal name of the trigger can be derived from the options. This will give you technical names in notifications, so you might prefer to give them personal names. Additionally the name is used in the database to compute the cooldown. If you don't have a name specified and change any of the parameters, the internal name will change and cooldown doesn't apply any more.</p>
</li>
<li>
<p><code>start</code>: Optional date time string which specifies the earliest execution of the trigger.</p>
<p>This can be used if you have just created a bunch of new triggers, or made changes to them without keeping the <code>name</code> attribute fixed. By specifying a future point in time you can prepare a trigger without having it executed on the next run of the program.</p>
<p>We use <a href="https://dateutil.readthedocs.io/en/stable/parser.html"><code>dateutil.parser</code></a> to parse the date. It will understand most formats, but the ISO format (<code>YYYY-MM-DD HH:MM:SS</code>) will certainly work.</p>
</li>
</ul>
<h3 id="trigger-strategy">Trigger strategy</h3>
<p>We currently have two optional trigger strategies. All strategies also use the cooldown. If you do not specify any strategy keys, then it will just buy whenever the cooldown has expired. This is the “Dollar cost average” way.</p>
<p>You can use as many strategies as you like. They are connected via logical <em>and</em>, meaning that all strategies have to say “buy” in order for the trigger to fire.</p>
<h4 id="drop-strategy">Drop strategy</h4>
<p>The first strategy is the <em>drop</em> strategy. It will look whether the price has dropped by a given <em>percentage</em> within a given <em>delay</em>. You could for instance look for a drop of 1 % within 60 minutes. You will need to specify these keys:</p>
<ul>
<li><code>drop_percentage</code></li>
<li><code>delay_minutes</code>, <code>delay_hours</code> or <code>delay_days</code>: If multiple are given, only the one with the largest unit will be used.</li>
</ul>
<p>You can specify a decimal number for the drop percentage, just be aware that it must contain a decimal point instead of a decimal comma.</p>
<h4 id="fear-greed-strategy">Fear &amp; Greed strategy</h4>
<p>There is the <a href="https://alternative.me/crypto/fear-and-greed-index/">Fear &amp; Greed Index</a>, which provides a market analysis via multiple factors. It is a number between 0 and 100. Low numbers mean that people are fearful and it might be good to buy. And high numbers mean that people are greedy and it might be a bad idea to buy.</p>
<p>You can specify the following key to make use of this strategy.</p>
<ul>
<li><code>fear_and_greed_index_below</code>: An integer value between 0 and 101 which is the exclusive upper limit for the fear and greed index. If you specify 50, then it will only buy for 49 or below.</li>
</ul>
<h3 id="fiat-volume-strategy">Fiat volume strategy</h3>
<p>There are two ways that you can determine the amount of fiat volume that you want to spend on each trigger execution.</p>
<p>First there is the <em>fixed</em> strategy, where you always spend a fixed amount. For that you need this key:</p>
<ul>
<li><code>volume_fiat</code>: Amount in fiat currency.</li>
</ul>
<p>Alternatively you can specify a percentage of the amount of fiat currency that you have on the market. For this specify a percentage:</p>
<ul>
<li><code>percentage_fiat</code>: Percentage of fiat money to spend in each buy.</li>
</ul>
<h3 id="choosing-sensible-values">Choosing sensible values</h3>
<p>But what shall I choose? What will give me the most return of investment? We don't have the truth either, but we recommend that you take a look at the evaluation interface that is linked on the <a href="../usage/">usage</a> page. The heatmap of drops gives you a good idea of which delays and drop percentages to use. The trigger simulation gives you an idea of how often they fire, and let you choose the amount of fiat to spend.</p>
<p>You can also come to the Telegram group, see <a href="../support/">support</a>, and ask other users for their experience.</p>
<h2 id="telegram-notifications">Telegram notifications</h2>
<p>Optionally you can set up notifications via Telegram. This is not required, but a nice extra to allow monitoring from anywhere.</p>
<p>First you have to create a bot by talking to <a href="https://t.me/botfather">@botfather</a>. It will lead you through a couple of steps:</p>
<ol>
<li>Type <code>/start</code> to initiate the bot creation.</li>
<li>Then type <code>/newbot</code> to create your bot.</li>
<li>It will ask you for the name of the bot. You can just use “vigilant-crypto-snatch” or something else.</li>
<li>Next it will ask for a username of the bot. This is a technical thing, so it doesn't need to be pretty. It needs to be unique and end with <code>bot</code>. So perhaps use something like <code>vigilant_0f8704a83991_bot</code>, where you just make up your own random letters.</li>
</ol>
<p>It will give you an access token that you can use for the API. Enter that token into the configuration file:</p>
<div class="highlight"><pre><span></span><code><span class="nt">telegram</span><span class="p">:</span>
  <span class="nt">token</span><span class="p">:</span> <span class="s">&quot;Your</span><span class="nv"> </span><span class="s">bot</span><span class="nv"> </span><span class="s">token</span><span class="nv"> </span><span class="s">here&quot;</span>
  <span class="nt">level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">info</span>
</code></pre></div>
<p>You will need to write a message to the bot in order to open a direct conversation with it. This is necessary such that the bot can reply to you.</p>
<p>The <code>level</code> specified the messages that you want to receive. <code>info</code> gives sensible information, if you only want to receive information when something goes wrong, use <code>warning</code>. See the section in <a href="../usage/">running</a> for more details.</p>
<p>If the Telegram bot token is set up correctly, you will receive messages like this:</p>
<blockquote>
<p><img alt="" src="../telegram-output.png" /></p>
</blockquote>
<p>The severity of messages is color-coded with an emoji according to this mapping:</p>
<table>
<thead>
<tr>
<th align="center">Symbol</th>
<th align="left">Severity</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">🔴</td>
<td align="left">Critical</td>
</tr>
<tr>
<td align="center">🟠</td>
<td align="left">Error</td>
</tr>
<tr>
<td align="center">🟡</td>
<td align="left">Warning</td>
</tr>
<tr>
<td align="center">🟢</td>
<td align="left">Info</td>
</tr>
<tr>
<td align="center">🔵</td>
<td align="left">Debug</td>
</tr>
</tbody>
</table>
<p>The logging level is set to <em>Info</em> by default.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../installation/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installation
            </div>
          </div>
        </a>
      
      
        
        <a href="../usage/" class="md-footer__link md-footer__link--next" aria-label="Next: Usage" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Usage
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>