
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.5">
    
    
      
        <title>Configuration - Vigilant Crypto Snatch</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.77f3fd56.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Vigilant Crypto Snatch" class="md-header__button md-logo" aria-label="Vigilant Crypto Snatch">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vigilant Crypto Snatch
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Configuration
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Vigilant Crypto Snatch" class="md-nav__button md-logo" aria-label="Vigilant Crypto Snatch">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Vigilant Crypto Snatch
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Welcome
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Configuration
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#historic-price-api" class="md-nav__link">
    Historic price API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marketplaces" class="md-nav__link">
    Marketplaces
  </a>
  
    <nav class="md-nav" aria-label="Marketplaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitstamp" class="md-nav__link">
    Bitstamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kraken" class="md-nav__link">
    Kraken
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    Triggers
  </a>
  
    <nav class="md-nav" aria-label="Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-triggers" class="md-nav__link">
    Drop triggers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timers" class="md-nav__link">
    Timers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-notifications" class="md-nav__link">
    Telegram notifications
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../running/" class="md-nav__link">
        Running
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../developing/" class="md-nav__link">
        Developing
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        License
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#historic-price-api" class="md-nav__link">
    Historic price API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#marketplaces" class="md-nav__link">
    Marketplaces
  </a>
  
    <nav class="md-nav" aria-label="Marketplaces">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitstamp" class="md-nav__link">
    Bitstamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kraken" class="md-nav__link">
    Kraken
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#triggers" class="md-nav__link">
    Triggers
  </a>
  
    <nav class="md-nav" aria-label="Triggers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#drop-triggers" class="md-nav__link">
    Drop triggers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timers" class="md-nav__link">
    Timers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#telegram-notifications" class="md-nav__link">
    Telegram notifications
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="configuration">Configuration</h1>
<p>Unfortunately we need to configure a few things before you can start automatic trading with this software. Most configuration is done in a YAML file at <code>~/.config/vigilant-crypto-snatch.yml</code>. Create this file and open it in a text editor. We will talk you through the neccessary steps to fill it.</p>
<h2 id="historic-price-api">Historic price API</h2>
<p>In order to find a drop in the price, we need to know the historic price at a given point. We use Crypto Compare for that as they provide a free API. Go to <a href="https://min-api.cryptocompare.com/pricing">their website</a> and create an API key.</p>
<p>In the configuration file then add the following:</p>
<div class="highlight"><pre><span></span><code><span class="nt">cryptocompare</span><span class="p">:</span>
  <span class="nt">api_key</span><span class="p">:</span> <span class="s">&#39;your</span><span class="nv"> </span><span class="s">API</span><span class="nv"> </span><span class="s">key</span><span class="nv"> </span><span class="s">here&#39;</span>
</code></pre></div>
<h2 id="marketplaces">Marketplaces</h2>
<p>We currently support two marketplaces, <a href="https://bitstamp.net/">Bitstamp</a> and <a href="https://kraken.com">Kraken</a>. You only have to configure one of them, but you can also configure both. When you start the program, you can just choose which marketplace you want to use today.</p>
<h3 id="bitstamp">Bitstamp</h3>
<p>In order to use Bitstamp, you need to set up an API key with them that has the correct permissions to trade with. Put this API key into the configuration file.</p>
<div class="highlight"><pre><span></span><code><span class="nt">bitstamp</span><span class="p">:</span>
  <span class="nt">username</span><span class="p">:</span> <span class="s">&#39;username</span><span class="nv"> </span><span class="s">here&#39;</span>
  <span class="nt">key</span><span class="p">:</span> <span class="s">&#39;key</span><span class="nv"> </span><span class="s">here&#39;</span>
  <span class="nt">secret</span><span class="p">:</span> <span class="s">&#39;secret</span><span class="nv"> </span><span class="s">here&#39;</span>
</code></pre></div>
<h3 id="kraken">Kraken</h3>
<p>The Kraken API has it's own configuration files. First you have to create a file at <code>~/.config/clikraken/settings.ini</code> and insert the following there:</p>
<div class="highlight"><pre><span></span><code><span class="k">[clikraken]</span>
<span class="na">trading_agreement</span><span class="o">=</span><span class="s">agree</span>
</code></pre></div>
<p>Then on the website create an API key which has the permission to trade. You will have an API key and an associated secret. In the file <code>~/.config/clikraken/settings.ini</code> you have two lines, the first will be API key and the second will be the secret, like this:</p>
<div class="highlight"><pre><span></span><code>APIKEY
secret
</code></pre></div>
<p>There is nothing to add to our main configuration file.</p>
<h2 id="triggers">Triggers</h2>
<p>You can define as many triggers as you would like. First you should set the polling interval that the main loop should use. It will wait this many seconds before checking again. For testing we found that 5 seconds is a good value, for production use 60 seconds should be absolutely sufficient.</p>
<div class="highlight"><pre><span></span><code><span class="nt">sleep</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">60</span>
</code></pre></div>
<p>We have two types of triggers: Drop triggers and just timers.</p>
<p>All timers have a cooldown such that they are not executed again and again. The cooldown is the same as the checking interval.</p>
<h3 id="drop-triggers">Drop triggers</h3>
<p>The drop trigger will fire when the price has dropped by a certain percentage compared to a reference at an earlier time. You can choose the delay and the drop percentage as you like. It might make sense to have larger drops when the time period is longer.</p>
<p>Say we want to have three triggers, two for Bitcoin and one for Etherum. When it drops by 5 % within 60 minutes, we want to buy for 25 EUR. If it drops by 15 % within 24 hours, we want to buy for 100 EUR. And for Etherum I just want the first trigger. In the configuration it would look like this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">triggers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> coin</span><span class="p">:</span> <span class="nv">btc</span><span class="p p-Indicator">,</span><span class="nt"> fiat</span><span class="p">:</span> <span class="nv">eur</span><span class="p p-Indicator">,</span><span class="nt"> minutes</span><span class="p">:</span> <span class="nv">60</span><span class="p p-Indicator">,</span><span class="nt"> drop</span><span class="p">:</span> <span class="nv">5</span><span class="p p-Indicator">,</span><span class="nt"> volume_fiat</span><span class="p">:</span> <span class="nv">25.00</span> <span class="p p-Indicator">}</span>
  <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> coin</span><span class="p">:</span> <span class="nv">btc</span><span class="p p-Indicator">,</span><span class="nt"> fiat</span><span class="p">:</span> <span class="nv">eur</span><span class="p p-Indicator">,</span><span class="nt"> minutes</span><span class="p">:</span> <span class="nv">1400</span><span class="p p-Indicator">,</span><span class="nt"> drop</span><span class="p">:</span> <span class="nv">15</span><span class="p p-Indicator">,</span><span class="nt"> volume_fiat</span><span class="p">:</span> <span class="nv">100.00</span> <span class="p p-Indicator">}</span>
  <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> coin</span><span class="p">:</span> <span class="nv">eth</span><span class="p p-Indicator">,</span><span class="nt"> fiat</span><span class="p">:</span> <span class="nv">eur</span><span class="p p-Indicator">,</span><span class="nt"> minutes</span><span class="p">:</span> <span class="nv">60</span><span class="p p-Indicator">,</span><span class="nt"> drop</span><span class="p">:</span> <span class="nv">5</span><span class="p p-Indicator">,</span><span class="nt"> volume_fiat</span><span class="p">:</span> <span class="nv">25.00</span> <span class="p p-Indicator">}</span>
</code></pre></div>
<h3 id="timers">Timers</h3>
<p>If the market is steadily rising, there won't be drops. We still want to make use of the <em>dollar cost average</em> effect. For this we want to have a simple timer that doesn't have any other dependencies. If we want to buy Bitcoin for 75 EUR every 14 days, we can use this:</p>
<div class="highlight"><pre><span></span><code><span class="nt">timers</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="p p-Indicator">{</span><span class="nt"> coin</span><span class="p">:</span> <span class="nv">btc</span><span class="p p-Indicator">,</span><span class="nt"> fiat</span><span class="p">:</span> <span class="nv">eur</span><span class="p p-Indicator">,</span><span class="nt"> minutes</span><span class="p">:</span> <span class="nv">20160</span><span class="p p-Indicator">,</span><span class="nt"> volume_fiat</span><span class="p">:</span> <span class="nv">75.00</span> <span class="p p-Indicator">}</span>
</code></pre></div>
<h2 id="telegram-notifications">Telegram notifications</h2>
<p>Optionally you can set up notifications via Telegram. This is not required, but a nice extra to allow monitoring from anywhere.</p>
<p>Follow <a href="https://www.christian-luetgens.de/homematic/telegram/botfather/Chat-Bot.htm">this tutorial</a> to create a bot. Then enter the details here:</p>
<div class="highlight"><pre><span></span><code><span class="nt">telegram</span><span class="p">:</span>
  <span class="nt">token</span><span class="p">:</span> <span class="s">&#39;Your</span><span class="nv"> </span><span class="s">bot</span><span class="nv"> </span><span class="s">token</span><span class="nv"> </span><span class="s">here&#39;</span>
  <span class="nt">chat_id</span><span class="p">:</span> <span class="s">&#39;Your</span><span class="nv"> </span><span class="s">chat</span><span class="nv"> </span><span class="s">ID</span><span class="nv"> </span><span class="s">here&#39;</span>
</code></pre></div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href=".." class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Welcome
            </div>
          </div>
        </a>
      
      
        <a href="../running/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Running
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fb4a9340.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.5cf3e710.min.js"></script>
      
    
  </body>
</html>